(self.webpackChunkguzzle=self.webpackChunkguzzle||[]).push([[5664],{3905:function(e,t,a){"use strict";a.d(t,{Zo:function(){return s},kt:function(){return c}});var n=a(7294);function l(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(Object(a),!0).forEach((function(t){l(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function o(e,t){if(null==e)return{};var a,n,l=function(e,t){if(null==e)return{};var a,n,l={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(l[a]=e[a]);return l}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(l[a]=e[a])}return l}var u=n.createContext({}),d=function(e){var t=n.useContext(u),a=t;return e&&(a="function"==typeof e?e(t):i(i({},t),e)),a},s=function(e){var t=d(e.components);return n.createElement(u.Provider,{value:t},e.children)},m={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},p=n.forwardRef((function(e,t){var a=e.components,l=e.mdxType,r=e.originalType,u=e.parentName,s=o(e,["components","mdxType","originalType","parentName"]),p=d(a),c=l,g=p["".concat(u,".").concat(c)]||p[c]||m[c]||r;return a?n.createElement(g,i(i({ref:t},s),{},{components:a})):n.createElement(g,i({ref:t},s))}));function c(e,t){var a=arguments,l=t&&t.mdxType;if("string"==typeof e||l){var r=a.length,i=new Array(r);i[0]=p;var o={};for(var u in t)hasOwnProperty.call(t,u)&&(o[u]=t[u]);o.originalType=e,o.mdxType="string"==typeof e?e:l,i[1]=o;for(var d=2;d<r;d++)i[d]=a[d];return n.createElement.apply(null,i)}return n.createElement.apply(null,a)}p.displayName="MDXCreateElement"},4761:function(e,t,a){"use strict";a.r(t),a.d(t,{frontMatter:function(){return o},metadata:function(){return u},toc:function(){return d},default:function(){return m}});var n=a(2122),l=a(9756),r=(a(7294),a(3905)),i=["components"],o={},u={unversionedId:"how_to_guides/Processing/Processing",id:"how_to_guides/Processing/Processing",isDocsHomePage:!1,title:"Processing",description:"Introduction",source:"@site/docs/how_to_guides/Processing/Processing.md",sourceDirName:"how_to_guides/Processing",slug:"/how_to_guides/Processing/Processing",permalink:"/docs/how_to_guides/Processing/Processing",editUrl:"https://github.com/ja-guzzle/docs/blob/master/docs/how_to_guides/Processing/Processing.md",version:"current",frontMatter:{},sidebar:"sideBar",previous:{title:"Housekeeping",permalink:"/docs/how_to_guides/ingest_data/housekeeping"},next:{title:"Parameter",permalink:"/docs/how_to_guides/parameters/parameters"}},d=[{value:"Introduction",id:"introduction",children:[]},{value:"Spark Engine vs Template",id:"spark-engine-vs-template",children:[]},{value:"Default template for each datastore",id:"default-template-for-each-datastore",children:[]},{value:"How different operations work Guzzle",id:"how-different-operations-work-guzzle",children:[]},{value:"Framework Columns",id:"framework-columns",children:[]},{value:"Special Configurations",id:"special-configurations",children:[{value:"Below steps are used to determine final list of columns that are part of update section.",id:"below-steps-are-used-to-determine-final-list-of-columns-that-are-part-of-update-section",children:[]}]},{value:"How Pre SQL and Post SQL works",id:"how-pre-sql-and-post-sql-works",children:[{value:"Order of statement execution",id:"order-of-statement-execution",children:[]}]},{value:"Examples",id:"examples",children:[{value:"Example 1",id:"example-1",children:[]},{value:"Example 2",id:"example-2",children:[]},{value:"Example 3",id:"example-3",children:[]},{value:"Example 4",id:"example-4",children:[]},{value:"Example 5",id:"example-5",children:[]},{value:"Example 6",id:"example-6",children:[]}]},{value:"FAQs",id:"faqs",children:[]}],s={toc:d};function m(e){var t=e.components,a=(0,l.Z)(e,i);return(0,r.kt)("wrapper",(0,n.Z)({},s,a,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h2",{id:"introduction"},"Introduction"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"The Processing module in Guzzle is used process data within the same datastore. It supports processing data via Spark engine or Template. "),(0,r.kt)("li",{parentName:"ul"},"In Processing module, source and target datastore technology ",(0,r.kt)("strong",{parentName:"li"},"must")," be  same. Example: We can not choose Delta as source and hive as target in Guzzle. "),(0,r.kt)("li",{parentName:"ul"},"It provides inbuilt framework columns like Effective start data and end date to handle SCD type 2 efficiently. "),(0,r.kt)("li",{parentName:"ul"},"It supports common operations like append, overwrite, merge and etc. "),(0,r.kt)("li",{parentName:"ul"},"For source, We need to choose datastore technology from where we need to bring data for Processing. "),(0,r.kt)("li",{parentName:"ul"},"Guzzle Processing modules supports using both Source SQL and Source table"),(0,r.kt)("li",{parentName:"ul"},"The Processing module provides pre and post SQL to execute SQL. This pre-post SQL will execute before or after and read or writing operation. "),(0,r.kt)("li",{parentName:"ul"},"It provides the feature for overwriting table dependency for tables. "),(0,r.kt)("li",{parentName:"ul"},"Guzzle provides auto-create table functionality in target section.  If the target table is not present then Guzzle will create the target table. Only hive, delta and hudi are supported in the Processing module.")),(0,r.kt)("h2",{id:"spark-engine-vs-template"},"Spark Engine vs Template"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Spark"),(0,r.kt)("th",{parentName:"tr",align:null},"Template"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Spark will bring data from the source in cluster, apply required transformation via spark dataframe API and send transformed data as result."),(0,r.kt)("td",{parentName:"tr",align:null},"Template will directly compiles and run at datastore technology end and sends response back to Guzzle.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Spark used connector libraries to connect with datastore."),(0,r.kt)("td",{parentName:"tr",align:null},"Template uses JDBC connection to connect with data sources.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"We cant not modify behavior Processing of spark engine."),(0,r.kt)("td",{parentName:"tr",align:null},"Templates are flexible so user can customize or add new template.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Spark engine process data in spark cluster."),(0,r.kt)("td",{parentName:"tr",align:null},"Template execute queries in underlying datastore via JDBC connection. ",(0,r.kt)("strong",{parentName:"td"}," Guzzle Compute is not involved here "))))),(0,r.kt)("h2",{id:"default-template-for-each-datastore"},"Default template for each datastore"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Datastore"),(0,r.kt)("th",{parentName:"tr",align:null},"Spark"),(0,r.kt)("th",{parentName:"tr",align:null},"Template"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Delta"),(0,r.kt)("td",{parentName:"tr",align:null},"Yes"),(0,r.kt)("td",{parentName:"tr",align:null},"Yes: Delta")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Hive"),(0,r.kt)("td",{parentName:"tr",align:null},"Yes"),(0,r.kt)("td",{parentName:"tr",align:null},"No")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Synapse"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"Yes: Synapse")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Snowflake"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"Yes: Snowflake")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"JDBC"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"Yes: Select as per your database")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Azure SQL"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"Yes: SQL Server")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Apache Hudi"),(0,r.kt)("td",{parentName:"tr",align:null},"Yes ** (Coming Soon)"),(0,r.kt)("td",{parentName:"tr",align:null},"Yes ** (Coming Soon)")))),(0,r.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("ul",{parentName:"div"},(0,r.kt)("li",{parentName:"ul"},"For other datastore technology, we can use default template. For example, we can use default template for MySQL and PostreSQL.")))),(0,r.kt)("h2",{id:"how-different-operations-work-guzzle"},"How different operations work Guzzle"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Operation"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"),(0,r.kt)("th",{parentName:"tr",align:null},"Spark"),(0,r.kt)("th",{parentName:"tr",align:null},"Template"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Append"),(0,r.kt)("td",{parentName:"tr",align:null},"- Append operation will append data to target table. ",(0,r.kt)("br",null)," - Truncate partition option is not available in append."),(0,r.kt)("td",{parentName:"tr",align:null},"- It uses spark to process the data so that it will bring data to spark cluster. ",(0,r.kt)("br",null)," - It uses spark write mode to append the data ."),(0,r.kt)("td",{parentName:"tr",align:null},"- It uses INSERT INTO <target_table> SELECT statement. ",(0,r.kt)("br",null)," - only single query will execute to append records on target database.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Overwrite"),(0,r.kt)("td",{parentName:"tr",align:null},"- Overwrite operation is used to overwrite source records into target table."),(0,r.kt)("td",{parentName:"tr",align:null},"It will use temp table to store processed data. ",(0,r.kt)("br",null)," ",(0,r.kt)("b",null," Hive ")," ",(0,r.kt)("br",null)," - If partition column is configured -> It will use insert overwrite to overwrite that partition data. ",(0,r.kt)("br",null)," - It will use insert overwrite statement to overwrite data in that partition.  ",(0,r.kt)("br",null)," - If partition column is not configured -> It will truncate only those partitions for which source contains data. ",(0,r.kt)("br",null)," - Other partitions data will remain intact. ",(0,r.kt)("br",null)," - Click ",(0,r.kt)("a",{href:"https://Guzzle.justanalytics.com/docs/releases/2_4_0/Processing-behaviour-changes/"},"here")," for details. ",(0,r.kt)("br",null)," ",(0,r.kt)("b",null,"Delta")," ",(0,r.kt)("br",null)," - If partition column is configured -> It will use insert overwrite statement to overwrite data in that partition. ",(0,r.kt)("br",null),"  - If partition column is Not configured -> It will truncate full target table and insert source data into target database."),(0,r.kt)("td",{parentName:"tr",align:null},"- For ",(0,r.kt)("b",null,"synapse, snowflake, and SQL Server")," template it uses two operations: ",(0,r.kt)("br",null)," - It will truncate target table. ",(0,r.kt)("br",null)," - Uses INSERT INTO <target_table> SELECT statement load data into target table. ",(0,r.kt)("br",null)," ",(0,r.kt)("b",null,"Delta template")," ",(0,r.kt)("br",null)," - It will use INSERT overwrite <targe_table> select operation to update data in target table.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Merge"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("b",null,"Incremental")," ",(0,r.kt)("br",null)," - Incremental operation, If source data is present in target table then it will update those data in target table. ",(0,r.kt)("br",null)," - If source data is not present in target table, it will add those records into target table. ",(0,r.kt)("br",null)," - Remaining records which are not present in source wil remain as it is in target table. ",(0,r.kt)("br",null)," ",(0,r.kt)("b",null,"Full Load")," ",(0,r.kt)("br",null)," - Incremental operation, If source data is present in target table then it will update those data in target table. ",(0,r.kt)("br",null)," - If source data is not present in target table, it will add those records into target table.  ",(0,r.kt)("br",null)," - Remaining records marks as in active in target table."),(0,r.kt)("td",{parentName:"tr",align:null},"- Spark will bring source and target data into memory. ",(0,r.kt)("br",null)," - It will perform merge operation and write data into temp table. ",(0,r.kt)("br",null)," - It will truncate target table(Truncate partition) and insert data from temp table to target table."),(0,r.kt)("td",{parentName:"tr",align:null},"- Template uses merge statement to perform incremental and full merge operation.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Effective Date Merge"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("b",null," Incremental ")," ",(0,r.kt)("br",null)," - Incremental operation, If source data is present in target table and respective history column value is changed in source it will mark existing record as inactive using effective enddate and current record flag column value as N. ",(0,r.kt)("br",null)," - After that will create new record will updated value in target table using effective startdate column and correct record flag as Y. ",(0,r.kt)("br",null)," - If source data is not present in target table, it will add those records into target table. ",(0,r.kt)("br",null)," - Remaining records which are not present in source will remain as it is in target table. ",(0,r.kt)("br",null)," ",(0,r.kt)("b",null," Full ")," ",(0,r.kt)("br",null)," - Incremental operation, If source data is present in target table and respective history column value is changed in source it will mark existing record as inactive using effective enddate and current record flag column value as N. ",(0,r.kt)("br",null)," - After that will create new record will updated value in target table using effective startdate column and correct record flag as Y. ",(0,r.kt)("br",null)," - If source data is not present in target table, it will add those records into target table. ",(0,r.kt)("br",null)," - Remaining records which are not present in source will be marked as inactive records using effective end date and current flag."),(0,r.kt)("td",{parentName:"tr",align:null},"- Spark will bring source and target data into memory. It will perform merge operation and write data into temp table. It will truncate target table(Truncate partition) and insert data from temp table to target table."),(0,r.kt)("td",{parentName:"tr",align:null},"Template uses merge statement to perform incremental and full merge operation.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Update only"),(0,r.kt)("td",{parentName:"tr",align:null},"- Guzzle will update target table records which are coming from source. It won\u2019t add any new record."),(0,r.kt)("td",{parentName:"tr",align:null},"Spark will bring source and target data into memory. It will perform update operation and write data into temp table. ",(0,r.kt)("br",null)," - It will truncate target table(Truncate partition) and insert data from temp table to target table."),(0,r.kt)("td",{parentName:"tr",align:null},"It uses merge operation to update source data into target table.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Delete (Hard)"),(0,r.kt)("td",{parentName:"tr",align:null},"- Delete operation will delete all records which are coming from source."),(0,r.kt)("td",{parentName:"tr",align:null},"- Spark will bring source and target data into memory. It will perform delete operation and write data into temp table. ",(0,r.kt)("br",null)," - It will truncate target table(Truncate partition) and insert data from temp table to target table."),(0,r.kt)("td",{parentName:"tr",align:null},"It uses merge operation to delete data which are coming from source.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Delete (Soft)"),(0,r.kt)("td",{parentName:"tr",align:null},"- It will mark current flag record as inactive(N). It wont delete any records."),(0,r.kt)("td",{parentName:"tr",align:null},"Same as Delete Hard."),(0,r.kt)("td",{parentName:"tr",align:null},"Same as Delete Hard.")))),(0,r.kt)("h2",{id:"framework-columns"},"Framework Columns"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Framework column"),(0,r.kt)("th",{parentName:"tr",align:null},"Default Value"),(0,r.kt)("th",{parentName:"tr",align:null},"Data Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"),(0,r.kt)("th",{parentName:"tr",align:null},"Append"),(0,r.kt)("th",{parentName:"tr",align:null},"Overwrite"),(0,r.kt)("th",{parentName:"tr",align:null},"Merge"),(0,r.kt)("th",{parentName:"tr",align:null},"Effective Date Merge"),(0,r.kt)("th",{parentName:"tr",align:null},"Update only"),(0,r.kt)("th",{parentName:"tr",align:null},"Delete (soft)"),(0,r.kt)("th",{parentName:"tr",align:null},"Delete (hard)"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"w_created_ts"),(0,r.kt)("td",{parentName:"tr",align:null},"- By default, guzzle takes current timestamp as w_created_ts value. ",(0,r.kt)("br",null)," - If user wants to set custom value in UI then guzzle will take that value as w_created_ts."),(0,r.kt)("td",{parentName:"tr",align:null},"Timestamp"),(0,r.kt)("td",{parentName:"tr",align:null},"Generate current timestamp value."),(0,r.kt)("td",{parentName:"tr",align:null},"Yes"),(0,r.kt)("td",{parentName:"tr",align:null},"Yes"),(0,r.kt)("td",{parentName:"tr",align:null},"Yes"),(0,r.kt)("td",{parentName:"tr",align:null},"Yes"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"No")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"w_refresh_ts"),(0,r.kt)("td",{parentName:"tr",align:null},"- By default, guzzle takes current timestamp as w_refresh_ts value. ",(0,r.kt)("br",null)," - If user wants to set custom value in UI then guzzle will take that value as w_refresh_ts."),(0,r.kt)("td",{parentName:"tr",align:null},"Timestamp"),(0,r.kt)("td",{parentName:"tr",align:null},"This framework column is using to get updated timestamp of the data."),(0,r.kt)("td",{parentName:"tr",align:null},"Yes"),(0,r.kt)("td",{parentName:"tr",align:null},"Yes"),(0,r.kt)("td",{parentName:"tr",align:null},"Yes"),(0,r.kt)("td",{parentName:"tr",align:null},"Yes"),(0,r.kt)("td",{parentName:"tr",align:null},"Yes"),(0,r.kt)("td",{parentName:"tr",align:null},"Yes"),(0,r.kt)("td",{parentName:"tr",align:null},"No")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"w_current_record_flag"),(0,r.kt)("td",{parentName:"tr",align:null},"- By default, guzzle takes Y(Yes) for w_current_record_flag value. ",(0,r.kt)("br",null)," - If target record in present in marge operation or If record is inactive in w_eff_start_date_ts and w_eff_end_date_ts then guzzle will mark this column as w_current_record_flag. ",(0,r.kt)("br",null)," - Custom values are not allowed in as w_current_record_flag."),(0,r.kt)("td",{parentName:"tr",align:null},"String"),(0,r.kt)("td",{parentName:"tr",align:null},"This column will define flag that indicated particular record is latest or not."),(0,r.kt)("td",{parentName:"tr",align:null},"Yes"),(0,r.kt)("td",{parentName:"tr",align:null},"Yes"),(0,r.kt)("td",{parentName:"tr",align:null},"Yes"),(0,r.kt)("td",{parentName:"tr",align:null},"Yes"),(0,r.kt)("td",{parentName:"tr",align:null},"Yes"),(0,r.kt)("td",{parentName:"tr",align:null},"Yes"),(0,r.kt)("td",{parentName:"tr",align:null},"No")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"w_eff_start_date_ts"),(0,r.kt)("td",{parentName:"tr",align:null},"- By default, Guzzle takes effective start date based start date of SCD type 2. ",(0,r.kt)("br",null)," - If user wants to set custom date in UI then guzzle will take that value as w_eff_start_date_ts."),(0,r.kt)("td",{parentName:"tr",align:null},"Timestamp"),(0,r.kt)("td",{parentName:"tr",align:null},"This column is used to define effective start date of the dimension as SDC2."),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"Yes"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"No")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"w_eff_end_date_ts"),(0,r.kt)("td",{parentName:"tr",align:null},"- By default, Guzzle takes effective end date based end date of SCD type 2. ",(0,r.kt)("br",null)," - If user wants to set custom date in UI then guzzle will take that value as w_eff_end_date_ts."),(0,r.kt)("td",{parentName:"tr",align:null},"Timestamp"),(0,r.kt)("td",{parentName:"tr",align:null},"This column is used to define effective end date of the dimension as SDC2."),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"Yes"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"No")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"w_sequence_key"),(0,r.kt)("td",{parentName:"tr",align:null},"By default, Guzzle takes w_sequence_key value based logic that we have implemented. ",(0,r.kt)("br",null)," - Custom values are not allowed in as w_sequence_key."),(0,r.kt)("td",{parentName:"tr",align:null},"Bigint"),(0,r.kt)("td",{parentName:"tr",align:null},"This column is used to define system generated surrogate key."),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"Yes**"),(0,r.kt)("td",{parentName:"tr",align:null},"Yes**"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"No")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"w_version_key"),(0,r.kt)("td",{parentName:"tr",align:null},"By default, Guzzle takes w_version_key value based logic that we have implemented. ",(0,r.kt)("br",null)," - Custom values are not allowed in as w_version_key."),(0,r.kt)("td",{parentName:"tr",align:null},"Bigint"),(0,r.kt)("td",{parentName:"tr",align:null},"This column is used to define system generated surrogate key."),(0,r.kt)("td",{parentName:"tr",align:null},"Bigint"),(0,r.kt)("td",{parentName:"tr",align:null},"This column is used to define version of each dimensions by primary key."),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"Yes**"),(0,r.kt)("td",{parentName:"tr",align:null},"No")))),(0,r.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("ul",{parentName:"div"},(0,r.kt)("li",{parentName:"ul"},"Yes** => Only applicable on spark engine."),(0,r.kt)("li",{parentName:"ul"},"Check the behavior of each framework column with different operations. Click here. ")))),(0,r.kt)("h2",{id:"special-configurations"},"Special Configurations"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null}),(0,r.kt)("th",{parentName:"tr",align:null},"Description"),(0,r.kt)("th",{parentName:"tr",align:null},"Append"),(0,r.kt)("th",{parentName:"tr",align:null},"Overwrite"),(0,r.kt)("th",{parentName:"tr",align:null},"Merge"),(0,r.kt)("th",{parentName:"tr",align:null},"Effective Date Merge"),(0,r.kt)("th",{parentName:"tr",align:null},"Update"),(0,r.kt)("th",{parentName:"tr",align:null},"Soft Delete"),(0,r.kt)("th",{parentName:"tr",align:null},"Hard Delete"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Primary Key"),(0,r.kt)("td",{parentName:"tr",align:null},"It will uses to link source and target data."),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"Yes"),(0,r.kt)("td",{parentName:"tr",align:null},"Yes"),(0,r.kt)("td",{parentName:"tr",align:null},"Yes"),(0,r.kt)("td",{parentName:"tr",align:null},"Yes"),(0,r.kt)("td",{parentName:"tr",align:null},"Yes")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Incremental"),(0,r.kt)("td",{parentName:"tr",align:null},"When we want to update only those target records which are present in source. Remaining existing records in target will not change. will remain as it is."),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"Yes"),(0,r.kt)("td",{parentName:"tr",align:null},"Yes"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"No")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Merge Column"),(0,r.kt)("td",{parentName:"tr",align:null},"- Before merging record it will check whether data is updated or not in given merge column. if it is updated then it will update target records else it will not update target table. ",(0,r.kt)("br",null)," - If the merge columns are not specified in configuration by default Guzzle considers all columns as merge column. ",(0,r.kt)("br",null),(0,r.kt)("br",null)),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"Yes"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"Yes"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"No")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"History Column"),(0,r.kt)("td",{parentName:"tr",align:null},"- If history column data is update then it will create new records in target table. Else it will not create records in target table. ",(0,r.kt)("br",null)," - If history columns are not specified in the configuration by default Guzzle considers all columns as History columns"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"Yes"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"No")))),(0,r.kt)("h3",{id:"below-steps-are-used-to-determine-final-list-of-columns-that-are-part-of-update-section"},"Below steps are used to determine final list of columns that are part of update section."),(0,r.kt)("b",null,"Source Columns:")," CustomerId\xa0\xa0\xa0 CustomerName\xa0\xa0\xa0 Age\xa0\xa0\xa0 Country ",(0,r.kt)("br",null)," ",(0,r.kt)("b",null,"Target columns:")," CustomerId, CustomerName, Age\xa0",(0,r.kt)("br",null),(0,r.kt)("br",null)," 1. user define merge columns ",(0,r.kt)("br",null)," CustomerName, Age ",(0,r.kt)("br",null)," 2. we fetch source columns ",(0,r.kt)("br",null)," CustomerId, CustomerName, Age, Country",(0,r.kt)("br",null)," 3. we fetch target column ",(0,r.kt)("br",null)," CustomerId, CustomerName, Age ",(0,r.kt)("br",null)," 4. intersect source(2) and target(3) columns ",(0,r.kt)("br",null)," CustomerId, CustomerName, Age ",(0,r.kt)("br",null)," 5. Remove the framework column from (4) ",(0,r.kt)("br",null)," CustomerId, CustomerName, Age -> (No framework column). ",(0,r.kt)("br",null)," 6. Remove the primary columns from (5), let's call it data columns ",(0,r.kt)("br",null)," CustomerName, Age ",(0,r.kt)("br",null)," 7. finally we intersect merge columns(1) with data columns(6). ",(0,r.kt)("br",null)," CustomerName, Age",(0,r.kt)("h2",{id:"how-pre-sql-and-post-sql-works"},"How Pre SQL and Post SQL works"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"PreSQL and PostSQL are used to execute SQL statements before and after the execution of the Processing operation.")),(0,r.kt)("h3",{id:"order-of-statement-execution"},"Order of statement execution"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Operation"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Source: pre_sql"),(0,r.kt)("td",{parentName:"tr",align:null},"When we submit Processing job, Guzzle will first executes source - PreSQL")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Persist source SQL into temp table1"),(0,r.kt)("td",{parentName:"tr",align:null})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Target: pre_sql"),(0,r.kt)("td",{parentName:"tr",align:null},"Guzzle will executes PreSQLfor target.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Execute Processing operation query and insert data in temp table2"),(0,r.kt)("td",{parentName:"tr",align:null},"One PreSQL is executed from both the locations, Guzzle starts executing actual Processing operation. Guzzle will store result of the Processing operation to temporary table.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Truncate target table (if applicable)"),(0,r.kt)("td",{parentName:"tr",align:null},"In certain Processing operations, Guzzle truncate target table. For example, If we perform overwrite operation using template then Guzzle will truncate target table.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Copy from temp table2 to final table"),(0,r.kt)("td",{parentName:"tr",align:null},"Once we have processed data in target table, Guzzle will copy temporary table to target table")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Source: post_sql"),(0,r.kt)("td",{parentName:"tr",align:null},"After compilation of Processing operation, Guzzle will execute PostSQL statement on source.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Target: post_sql"),(0,r.kt)("td",{parentName:"tr",align:null},"After source PostSQL, Guzzle will execute target PostSQL.")))),(0,r.kt)("h2",{id:"examples"},"Examples"),(0,r.kt)("h3",{id:"example-1"},"Example 1"),(0,r.kt)("p",null,"Configurations"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Operation: Merge"),(0,r.kt)("li",{parentName:"ul"},"Primary Key: id"),(0,r.kt)("li",{parentName:"ul"},"Merge Column: - "),(0,r.kt)("li",{parentName:"ul"},"Incremental: False")),(0,r.kt)("p",null,"Source"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"| id | name             | gender | birth_date | salary | system  | location |\n| 2  | Maia Thams       | Male   | 1995-07-22 | 35034  | default | sg       |\n| 3  | Che Millwall     | Male   | 1996-06-17 | 73643  | default | sg       |\n| 4  | Alidia Duiguid   | Female | 1987-11-08 | 87962  | default | sg       |\n| 5  | Lindon Corradini | Male   | 1998-07-20 | 90729  | default | sg       |\n")),(0,r.kt)("p",null,"Target"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"| id | name               | gender | birth_date | salary | created_time          | updated_time          | is_record_present | system  | location |\n| 1  | Gallagher Fairhall | Male   | 1996-03-08 | 93261  | 2017-01-01 17:54:52.0 | 2017-05-01 18:55:00.0 | Y                 | default | sg       |\n| 2  | Maia Thams         |        | 1995-07-22 | 35034  | 2017-01-02 01:57:04.0 | 2017-05-02 10:00:00.0 | Y                 | default | sg       |\n")),(0,r.kt)("p",null,"Result:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"| id | name               | gender | birth_date | salary | is_record_present | created_time          | updated_time          | system  | location |\n| 1  | Gallagher Fairhall | Male   | 1996-03-08 | 93261  | N                 | 2017-01-01 17:54:52.0 | {{current_timestamp}} | default | sg       |\n| 2  | Maia Thams         | Male   | 1995-07-22 | 35034  | Y                 | 2017-01-02 01:57:04.0 | {{current_timestamp}} | default | sg       |\n| 3  | Che Millwall       | Male   | 1996-06-17 | 73643  | Y                 | {{current_timestamp}} | {{current_timestamp}} | default | sg       |\n| 4  | Alidia Duiguid     | Female | 1987-11-08 | 87962  | Y                 | {{current_timestamp}} | {{current_timestamp}} | default | sg       |\n| 5  | Lindon Corradini   | Male   | 1998-07-20 | 90729  | Y                 | {{current_timestamp}} | {{current_timestamp}} | default | sg       |\n")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Record with id 1 is not present source so Guzzle is not considering that id in the result and mark it as inactive(Record is not present).")),(0,r.kt)("h3",{id:"example-2"},"Example 2"),(0,r.kt)("p",null,"Configurations"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Operation: Merge"),(0,r.kt)("li",{parentName:"ul"},"Primary Key: id"),(0,r.kt)("li",{parentName:"ul"},"Merge Column: - "),(0,r.kt)("li",{parentName:"ul"},"Incremental: True")),(0,r.kt)("p",null,"Source"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"| id | name             | gender | birth_date | salary | system  | location |\n| 3  | Che Millwall     | Male   | 1990-06-27 | 93000  | default | sg       |\n| 4  | Alidia Duiguid   | Female | 1987-11-08 | 87962  | default | sg       |\n| 5  | Lindon Corradini | Male   | 1998-07-20 | 90729  | default | sg       |\n")),(0,r.kt)("p",null,"Target"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"| id | name               | gender | birth_date | salary | created_time          | updated_time          | is_record_present | system  | location |\n| 1  | Gallagher Fairhall | Male   | 1996-03-08 | 93261  | 2017-01-01 17:54:52.0 | 2017-05-01 18:55:00.0 | Y                 | default | sg       |\n| 2  | Maia Thams         |        | 1995-07-22 | 35034  | 2017-01-02 01:57:04.0 | 2017-05-02 10:00:00.0 | Y                 | default | sg       |\n| 3  | Che Millwall       | Male   | 1996-06-17 | 73643  | 2017-01-02 14:38:55.0 | 2017-05-02 18:10:00.0 | Y                 | default | sg       |\n")),(0,r.kt)("p",null,"Result:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"| id | name               | gender | birth_date | salary | is_record_present | created_time          | updated_time          | system  | location |\n| 1  | Gallagher Fairhall | Male   | 1996-03-08 | 93261  | Y                 | 2017-01-01 17:54:52.0 | 2017-05-01 18:55:00.0 | default | sg       |\n| 2  | Maia Thams         |        | 1995-07-22 | 35034  | Y                 | 2017-01-02 01:57:04.0 | 2017-05-02 10:00:00.0 | default | sg       |\n| 3  | Che Millwall       | Male   | 1990-06-27 | 93000  | Y                 | 2017-01-02 14:38:55.0 | {{current_timestamp}} | default | sg       |\n| 4  | Alidia Duiguid     | Female | 1987-11-08 | 87962  | Y                 | {{current_timestamp}} | {{current_timestamp}} | default | sg       |\n| 5  | Lindon Corradini   | Male   | 1998-07-20 | 90729  | Y                 | {{current_timestamp}} | {{current_timestamp}} | default | sg       |\n")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"The incremental flag is true, Guzzle will not affect any target records, which are not present in the source.")),(0,r.kt)("h3",{id:"example-3"},"Example 3"),(0,r.kt)("p",null,"Configurations"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Operation: Effective Date Merge"),(0,r.kt)("li",{parentName:"ul"},"Primary Key: id"),(0,r.kt)("li",{parentName:"ul"},"Merge Column: - "),(0,r.kt)("li",{parentName:"ul"},"Incremental: False")),(0,r.kt)("p",null,"Source"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"| id | name             | gender | birth_date | salary | system  | location |\n| 2  | Maia Thomas      | Male   | 1990-01-01 | 35034  | default | sg       |\n| 3  | Che Millwall     | Male   | 1996-06-17 | 73643  | default | sg       |\n| 4  | Alidia Duiguid   | Female | 1987-11-08 | 87962  | default | sg       |\n| 5  | Lindon Corradini | Male   | 1998-07-20 | 90729  | default | sg       |\n")),(0,r.kt)("p",null,"Target"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"| id | name               | gender | birth_date | salary | created_time          | updated_time          | is_record_present | start_date            | end_date | system  | location |\n| 1  | Gallagher Fairhall | Male   | 1996-03-08 | 93261  | 2017-01-01 17:54:52.0 | 2017-05-01 18:55:00.0 | Y                 | 2019-05-01 18:55:00.0 |          | default | sg       |\n| 2  | Maia Thams         |        | 1995-07-22 | 35034  | 2017-01-02 01:57:04.0 | 2017-05-02 10:00:00.0 | Y                 | 2019-05-02 10:00:00.0 |          | default | sg       |\n")),(0,r.kt)("p",null,"Result:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"| id | name               | gender | birth_date | salary | is_record_present | created_time          | updated_time          | start_date            | end_date              | system  | location |\n| 1  | Gallagher Fairhall | Male   | 1996-03-08 | 93261  | N                 | 2017-01-01 17:54:52.0 | {{current_timestamp}} | 2019-05-01 18:55:00.0 | 2019-11-15 18:55:00.0 | default | sg       |\n| 2  | Maia Thams         |        | 1995-07-22 | 35034  | N                 | 2017-01-02 01:57:04.0 | {{current_timestamp}} | 2019-05-02 10:00:00.0 | 2019-11-15 18:55:00.0 | default | sg       |\n| 2  | Maia Thomas        | Male   | 1990-01-01 | 35034  | Y                 | 2017-01-02 01:57:04.0 | {{current_timestamp}} | 2019-11-15 18:55:01.0 |                       | default | sg       |\n| 3  | Che Millwall       | Male   | 1996-06-17 | 73643  | Y                 | {{current_timestamp}} | {{current_timestamp}} | 2019-11-15 18:55:01.0 |                       | default | sg       |\n| 4  | Alidia Duiguid     | Female | 1987-11-08 | 87962  | Y                 | {{current_timestamp}} | {{current_timestamp}} | 2019-11-15 18:55:01.0 |                       | default | sg       |\n| 5  | Lindon Corradini   | Male   | 1998-07-20 | 90729  | Y                 | {{current_timestamp}} | {{current_timestamp}} | 2019-11-15 18:55:01.0 |                       | default | sg       |\n")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"In Effective date merge operation, the record with id 2 is matching so Guzzle will create a new record for id 2 and update the old record with end_date and is_record_present will become N.")),(0,r.kt)("h3",{id:"example-4"},"Example 4"),(0,r.kt)("p",null,"Configurations"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Operation: Effective Date Merge"),(0,r.kt)("li",{parentName:"ul"},"Primary Key: id"),(0,r.kt)("li",{parentName:"ul"},"Merge Column: - "),(0,r.kt)("li",{parentName:"ul"},"Incremental: True"),(0,r.kt)("li",{parentName:"ul"},"History column: No history column")),(0,r.kt)("p",null,"Source"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"| id | name             | gender | birth_date | salary | system  | location |\n| 2  | Maia Thomas      | Male   | 1990-01-01 | 35034  | default | sg       |\n| 3  | Che Millwall     | Male   | 1996-06-17 | 73643  | default | sg       |\n| 4  | Alidia Duiguid   | Female | 1987-11-08 | 87962  | default | sg       |\n| 5  | Lindon Corradini | Male   | 1998-07-20 | 90729  | default | sg       |\n")),(0,r.kt)("p",null,"Target"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"| id | name               | gender | birth_date | salary | created_time          | updated_time          | is_record_present | start_date            | end_date | system  | location |\n| 1  | Gallagher Fairhall | Male   | 1996-03-08 | 93261  | 2017-01-01 17:54:52.0 | 2017-05-01 18:55:00.0 | Y                 | 2019-05-01 18:55:00.0 |          | default | sg       |\n| 2  | Maia Thams         |        | 1995-07-22 | 35034  | 2017-01-02 01:57:04.0 | 2017-05-02 10:00:00.0 | Y                 | 2019-05-02 10:00:00.0 |          | default | sg       |\n| 3  | Che Millwall       | Male   | 1996-06-17 | 73643  | 2017-01-03 19:45:30.0 | 2017-05-03 20:45:00.0 | Y                 | 2019-11-15 18:55:01.0 |          | default | sg       |\n")),(0,r.kt)("p",null,"Result:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"| id | name               | gender | birth_date | salary | is_record_present | created_time          | updated_time          | start_date            | end_date              | system  | location |\n| 1  | Gallagher Fairhall | Male   | 1996-03-08 | 93261  | Y                 | 2017-01-01 17:54:52.0 | 2017-05-01 18:55:00.0 | 2019-05-01 18:55:00.0 |                       | default | sg       |\n| 2  | Maia Thams         |        | 1995-07-22 | 35034  | N                 | 2017-01-02 01:57:04.0 | {{current_timestamp}} | 2019-05-02 10:00:00.0 | 2019-11-15 18:55:00.0 | default | sg       |\n| 2  | Maia Thomas        | Male   | 1990-01-01 | 35034  | Y                 | 2017-01-02 01:57:04.0 | {{current_timestamp}} | 2019-11-15 18:55:01.0 |                       | default | sg       |\n| 3  | Che Millwall       | Male   | 1996-06-17 | 73643  | Y                 | 2017-01-03 19:45:30.0 | {{current_timestamp}} | 2019-11-15 18:55:01.0 |                       | default | sg       |\n| 4  | Alidia Duiguid     | Female | 1987-11-08 | 87962  | Y                 | {{current_timestamp}} | {{current_timestamp}} | 2019-11-15 18:55:01.0 |                       | default | sg       |\n| 5  | Lindon Corradini   | Male   | 1998-07-20 | 90729  | Y                 | {{current_timestamp}} | {{current_timestamp}} | 2019-11-15 18:55:01.0 |                       | default | sg       |\n")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"In Effective date merge operation, the record with id 2 and 3 are matching, but for id 2 gender and birth_date column value is updated so it will create a new record but for id 3 there is no change in any column value so it will not create new record for that."),(0,r.kt)("li",{parentName:"ul"},"Incremental operation is True, Guzzle will not affect any target records which are not present in the source.")),(0,r.kt)("h3",{id:"example-5"},"Example 5"),(0,r.kt)("p",null,"Configurations"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Operation: Effective Date Merge"),(0,r.kt)("li",{parentName:"ul"},"Primary Key: id"),(0,r.kt)("li",{parentName:"ul"},"Merge Column: - "),(0,r.kt)("li",{parentName:"ul"},"Incremental: False"),(0,r.kt)("li",{parentName:"ul"},"History column: name, gender")),(0,r.kt)("p",null,"Source"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"| id | name             | gender | birth_date | salary | system  | location |\n| 1  | Gallagher Fair   | Male   | 1996-03-08 | 93261  | default | sg       |\n| 2  | Maia Thams       | Male   | 1995-07-22 | 35034  | default | sg       |\n| 3  | Che Millwall     | Male   | 1990-01-15 | 80000  | default | sg       |\n| 4  | Alidia Duiguid   | Female | 1987-11-08 | 87962  | default | sg       |\n| 5  | Lindon Corradini | Male   | 1998-07-20 | 90729  | default | sg       |\n")),(0,r.kt)("p",null,"Target"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"| id | name               | gender | birth_date | salary | created_time          | updated_time          | is_record_present | start_date            | end_date | system  | location |\n| 1  | Gallagher Fairhall | Male   | 1996-03-08 | 93261  | 2017-01-01 17:54:52.0 | 2017-05-01 18:55:00.0 | Y                 | 2019-05-01 18:55:00.0 |          | default | sg       |\n| 2  | Maia Thams         | Female | 1995-07-22 | 35034  | 2017-01-02 01:57:04.0 | 2017-05-02 10:00:00.0 | Y                 | 2019-05-02 10:00:00.0 |          | default | sg       |\n| 3  | Che Millwall       | Male   | 1996-06-17 | 73643  | 2017-01-03 03:50:04.0 | 2017-01-03 03:50:04.0 | Y                 | 2019-05-03 10:30:00.0 |          | default | sg       |\n")),(0,r.kt)("p",null,"Result: "),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"| id | name               | gender | birth_date | salary | is_record_present | created_time          | updated_time          | start_date            | end_date              | system  | location |\n| 1  | Gallagher Fairhall | Male   | 1996-03-08 | 93261  | N                 | 2017-01-01 17:54:52.0 | {{current_timestamp}} | 2019-05-01 18:55:00.0 | 2019-11-15 18:55:00.0 | default | sg       |\n| 2  | Maia Thams         |        | 1995-07-22 | 35034  | N                 | 2017-01-02 01:57:04.0 | {{current_timestamp}} | 2019-05-02 10:00:00.0 | 2019-11-15 18:55:00.0 | default | sg       |\n| 1  | Gallagher Fair     | Male   | 1996-03-08 | 93261  | Y                 | 2017-01-01 17:54:52.0 | {{current_timestamp}} | 2019-11-15 18:55:01.0 |                       | default | sg       |\n| 2  | Maia Thams         | Male   | 1995-07-22 | 35034  | Y                 | 2017-01-02 01:57:04.0 | {{current_timestamp}} | 2019-11-15 18:55:01.0 |                       | default | sg       |\n| 3  | Che Millwall       | Male   | 1990-01-15 | 80000  | Y                 | 2017-01-03 03:50:04.0 | {{current_timestamp}} | 2019-05-03 10:30:00.0 |                       | default | sg       |\n| 4  | Alidia Duiguid     | Female | 1987-11-08 | 87962  | Y                 | {{current_timestamp}} | {{current_timestamp}} | 2019-11-15 18:55:01.0 |                       | default | sg       |\n| 5  | Lindon Corradini   | Male   | 1998-07-20 | 90729  | Y                 | {{current_timestamp}} | {{current_timestamp}} | 2019-11-15 18:55:01.0 |                       | default | sg       |\n")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Here the history column is name and gender column. so it will create a new record for those record which has changed in name and gender column. in this example, it is id 1 and 2. for id 3 there is a change in birthdate and salary column but it is not a history column so Guzzle will not create a new record for id 3 it will update the latest value in the existing target record."),(0,r.kt)("li",{parentName:"ul"},"Incremental operation is True, Guzzle will  mark target records that are not present in the source as inactive using is_record_present_flag framework column.")),(0,r.kt)("h3",{id:"example-6"},"Example 6"),(0,r.kt)("p",null,"Configurations"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Operation: Update"),(0,r.kt)("li",{parentName:"ul"},"Primary Key: id"),(0,r.kt)("li",{parentName:"ul"},"Merge Column: name, salary, and updated_time.")),(0,r.kt)("p",null,"Source"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"| id | name             | gender | birth_date | salary | system  | location |\n| 3  | Chene Millwaller | Female | 1996-10-20 | 80000  | default | sg       |\n| 4  | Alidia Duiguid   | Female | 1987-11-18 | 90000  | default | sg       |\n| 5  | Lindon Corradini | Male   | 1998-07-20 | 90729  | default | sg       |\n| 6  | Dyan Kenna       | Female | 1989-04-20 | 40182  | default | sg       |\n| 7  | Ruy Marshalleck  | Male   | 1987-01-26 | 25717  | default | sg       |\n")),(0,r.kt)("p",null,"Target"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"| id | name               | gender | birth_date | salary | created_time          | updated_time          | is_record_present | system  | location |\n| 1  | Gallagher Fairhall | Male   | 1996-03-08 | 93261  | 2017-01-01 17:54:52.0 | 2017-05-01 18:55:00.0 | Y                 | default | sg       |\n| 2  | Maia Thams         |        | 1995-07-22 | 35034  | 2017-01-02 01:57:04.0 | 2017-05-02 10:00:00.0 | Y                 | default | sg       |\n| 3  | Che Millwall       | Male   | 1996-06-17 | 73643  | 2017-01-02 14:38:55.0 | 2017-05-02 18:10:00.0 | Y                 | default | sg       |\n| 4  | Alidia Duide       | Female | 1987-11-08 | 87962  | 2017-01-02 14:58:15.0 | 2017-05-03 14:30:00.0 | Y                 | default | sg       |\n| 5  | Lindon Corradini   | Male   | 1998-07-20 | 90729  | 2017-01-03 19:45:30.0 | 2017-05-03 20:45:00.0 | Y                 | default | sg       |\n| 6  | Dyan Kenna         | Female | 1988-02-25 | 40182  | 2017-01-04 15:33:35.0 | 2017-07-10 10:39:50.0 | Y                 | default | sg       |\n")),(0,r.kt)("p",null,"Result: "),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"| id | name               | gender | birth_date | salary | is_record_present | created_time          | updated_time          | system  | location |\n| 1  | Gallagher Fairhall | Male   | 1996-03-08 | 93261  | Y                 | 2017-01-01 17:54:52.0 | 2017-05-01 18:55:00.0 | default | sg       |\n| 2  | Maia Thams         |        | 1995-07-22 | 35034  | Y                 | 2017-01-02 01:57:04.0 | 2017-05-02 10:00:00.0 | default | sg       |\n| 3  | Chene Millwaller   | Male   | 1996-06-17 | 80000  | Y                 | 2017-01-02 14:38:55.0 | {{current_timestamp}} | default | sg       |\n| 4  | Alidia Duiguid     | Female | 1987-11-08 | 90000  | Y                 | 2017-01-02 14:58:15.0 | {{current_timestamp}} | default | sg       |\n| 5  | Lindon Corradini   | Male   | 1998-07-20 | 90729  | Y                 | 2017-01-03 19:45:30.0 | {{current_timestamp}} | default | sg       |\n| 6  | Dyan Kenna         | Female | 1988-02-25 | 40182  | Y                 | 2017-01-04 15:33:35.0 | {{current_timestamp}} | default | sg       |\n")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Guzzle will update target table records which are coming from source. It won\u2019t add any new record.")),(0,r.kt)("h2",{id:"faqs"},"FAQs"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"How Guzzle behaves when external and internal template are the same? ",(0,r.kt)("br",null),"\nAns. Guzzle will show only one option in UI, external will take priority."),(0,r.kt)("li",{parentName:"ol"},"Where Guzzle can place an external template? ",(0,r.kt)("br",null),"\nAns. /Guzzle/default/ext/Processing/template/{new_temp}.yml|")))}m.isMDXComponent=!0}}]);