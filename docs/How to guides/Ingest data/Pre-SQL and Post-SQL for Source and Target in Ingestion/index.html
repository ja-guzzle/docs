<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.0">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Guzzle Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Guzzle Blog Atom Feed"><title data-react-helmet="true">Pre-SQL and Post-SQL for Source and Target in Ingestion | Guzzle</title><meta data-react-helmet="true" property="og:url" content="https://guzzle.justanalytics.com/docs/How to guides/Ingest data/Pre-SQL and Post-SQL for Source and Target in Ingestion"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Pre-SQL and Post-SQL for Source and Target in Ingestion | Guzzle"><meta data-react-helmet="true" name="description" content="Pre-SQL is a SQL statement executed using the source and target connections before the pipeline is run. On the other hand Post-SQL statements are executed after the pipeline is run. Using Pre and Post SQL statements helps in performing operations like insert, delete and update before and after the load."><meta data-react-helmet="true" property="og:description" content="Pre-SQL is a SQL statement executed using the source and target connections before the pipeline is run. On the other hand Post-SQL statements are executed after the pipeline is run. Using Pre and Post SQL statements helps in performing operations like insert, delete and update before and after the load."><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://guzzle.justanalytics.com/docs/How to guides/Ingest data/Pre-SQL and Post-SQL for Source and Target in Ingestion"><link data-react-helmet="true" rel="alternate" href="https://guzzle.justanalytics.com/docs/How to guides/Ingest data/Pre-SQL and Post-SQL for Source and Target in Ingestion" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://guzzle.justanalytics.com/docs/How to guides/Ingest data/Pre-SQL and Post-SQL for Source and Target in Ingestion" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.a9a821e7.css">
<link rel="preload" href="/assets/js/runtime~main.e874d658.js" as="script">
<link rel="preload" href="/assets/js/main.942ba3a1.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#main" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle" type="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><img src="/img/guzzle-logo.svg" alt="Guzzle" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/img/guzzle-logo.svg" alt="Guzzle" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><strong class="navbar__title"></strong></a><a class="navbar__item navbar__link navbar__link--active" href="/docs/introduction/What is Guzzle">Docs</a><a class="navbar__item navbar__link" href="/api/api">API</a><a class="navbar__item navbar__link" href="/docs/changelog">Changelog</a><a class="navbar__item navbar__link" href="/blog">Blog</a></div><div class="navbar__items navbar__items--right"><div class="searchWrapper_3rmH"></div><div class="react-toggle displayOnlyInLargeViewport_GrZ2 react-toggle--disabled" role="button" tabindex="-1"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_71bT">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img src="/img/guzzle-logo.svg" alt="Guzzle" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/img/guzzle-logo.svg" alt="Guzzle" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><strong class="navbar__title"></strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link navbar__link--active" href="/docs/introduction/What is Guzzle">Docs</a></li><li class="menu__list-item"><a class="menu__link" href="/api/api">API</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/changelog">Changelog</a></li><li class="menu__list-item"><a class="menu__link" href="/blog">Blog</a></li></ul></div></div></div></nav><div class="main-wrapper docs-wrapper doc-page"><div class="docPage_31aa"><div class="docSidebarContainer_3Kbt" role="complementary"><div class="sidebar_15mo"><div class="menu menu--responsive thin-scrollbar menu_Bmed"><button aria-label="Open menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_fgN0" width="24" height="24" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Introduction</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/introduction/What is Guzzle">What is Guzzle</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/introduction/Deploying Guzzle on Microsoft Azure">Deploying Guzzle on Microsoft Azure</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Tutorial</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/Tutorial/Overview">Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/Tutorial/ingest_local_file_to_mysql">ingest_local_file_to_mysql</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">How to guides</a><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Administration</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/How to guides/Administration/Environment config/Repository database">Repository database</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/How to guides/Administration/Environment config/Setup Shared Storage">Setup Shared Storage</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/How to guides/Administration/Environment config/Timeout and Sync">Timeout and Sync</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/How to guides/Administration/Maintenance/JWT">JWT</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/How to guides/Administration/Maintenance/Schedule">Schedule</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/How to guides/Administration/Maintenance/View service log">View service log</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/How to guides/Administration/Security/Azure Single Sign On">Azure Single Sign On</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/How to guides/Administration/Security/User management">User management</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Author</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/How to guides/Author/Author">Author</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/How to guides/Author/External">External</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/How to guides/Author/Git Integration and Version Control">Git Integration and Version Control</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/How to guides/Author/Schedule">Schedule</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/How to guides/Author/Copy Data Tool">Copy Data Tool</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Computes</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/How to guides/Computes/Azure Databricks">Azure Databricks</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/How to guides/Computes/Local Spark">Local Spark</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/How to guides/Computes/Yarn">Yarn</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Datastores</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/How to guides/Datastores/Amazon S3">Amazon S3</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/How to guides/Datastores/Azure Data Factory">Azure Data Factory</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/How to guides/Datastores/Azure Data Lake Storage Gen2">Azure Data Lake Storage Gen2</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/How to guides/Datastores/Azure SQL">Azure SQL</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/How to guides/Datastores/Databricks File System">Databricks File System</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/How to guides/Datastores/Datastore overview">Datastore overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/How to guides/Datastores/Delta Lake">Delta Lake</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/How to guides/Datastores/HDFS">HDFS</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/How to guides/Datastores/Hive">Hive</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/How to guides/Datastores/Server file system">Server file system</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/How to guides/Datastores/Rest">Rest</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/How to guides/Datastores/JDBC">JDBC</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/How to guides/Datastores/Azure Synapse Analytics">Azure Synapse Analytics</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Governance</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/How to guides/Governance/Consraint Checks">Consraint Checks</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/How to guides/Governance/Housekeeping Hive and Delta tables">Housekeeping Hive and Delta tables</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/How to guides/Governance/Reconcilation of data accross two tables">Reconcilation of data accross two tables</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Pipelines</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/How to guides/Ingest data/Pipeline">Pipeline</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Batches</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/How to guides/Batch/Batch">Batch</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Housekeeping</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/How to guides/Ingest data/Housekeeping">Housekeeping</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Parameter</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/How to guides/Parameters/Parameters">Parameters</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!" tabindex="0">Ingest data</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/How to guides/Ingest data/Working with Delimited Files">Working with Delimited Files</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/How to guides/Ingest data/Working with JSON Files">Working with JSON Files</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/How to guides/Ingest data/Working with XML files">Working with XML files</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/How to guides/Ingest data/Working with Text and Log Files">Working with Text and Log Files</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/How to guides/Ingest data/Working with Excel">Working with Excel</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/How to guides/Ingest data/Working with Fixed Length Files">Working with Fixed Length Files</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/How to guides/Ingest data/Working with Big Data">Working with Big Data</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/How to guides/Ingest data/Working with Multiple files">Working with Multiple files</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/How to guides/Ingest data/Working with Hive and Delta">Working with Hive and Delta</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/How to guides/Ingest data/Working with Databases- JDBC">Working with Databases- JDBC</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/How to guides/Ingest data/Working with Databases- Azure SQL">Working with Databases- Azure SQL</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/How to guides/Ingest data/Working with Databases- Azure Synapse Analytics">Working with Databases- Azure Synapse Analytics</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/How to guides/Ingest data/Working with Databases- HIVE">Working with Databases- HIVE</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/How to guides/Ingest data/Working with Rest">Working with Rest</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/How to guides/Ingest data/Column Restrictions - Exclude and Include Columns">Column Restrictions - Exclude and Include Columns</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/How to guides/Ingest data/Configure Control File">Configure Control File</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/How to guides/Ingest data/Moving Processed Files">Moving Processed Files</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/How to guides/Ingest data/Processing">Processing</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/How to guides/Ingest data/Watermark">Watermark</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/docs/How to guides/Ingest data/Pre-SQL and Post-SQL for Source and Target in Ingestion">Pre-SQL and Post-SQL for Source and Target in Ingestion</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/How to guides/Ingest data/Ingest Data from Local file system to MySQL Database">Ingest Data from Local file system to MySQL Database</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Monitor</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/How to guides/Monitor/Monitor">Monitor</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Resources</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/Resources/Overview">Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/Resources/resource">resource</a></li></ul></li><li class="menu__list-item"><a class="menu__link" href="/docs/changelog">Guzzle Changelog</a></li></ul></div></div></div><main class="docMainContainer_3ufF"><div class="container padding-vert--lg docItemWrapper_3FMP"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><header><h1 class="docTitle_3a4h">Pre-SQL and Post-SQL for Source and Target in Ingestion</h1></header><div class="markdown"><p>Pre-SQL is a SQL statement executed using the source and target connections before the pipeline is run. On the other hand Post-SQL statements are executed after the pipeline is run. Using Pre and Post SQL statements helps in performing operations like insert, delete and update before and after the load.</p><p>If we want to add some data in database from csv file and we haven&#x27;t created a table for that so in this case we can use this feature like &quot;preSQL&quot; option in target tab to create table before 	entering data in that table and if we want to delete specific data from table before fetching all data we can use feature like &quot;preSQL&quot; option in source tab of selected table.</p><p>Guzzle supports Pre-SQL and Post-SQL for Source and Target and their execution in Ingestion. It is used mainly for pre and post formatting of Data in a Database. </p><p>Guzzle supports Pre and Post SQL statements for Source and Target in Ingestion for different Datastore Technologies as listed in the table below: </p><table><thead><tr><th>Datastore technologies</th><th>Pre/Post SQL for source</th><th>Pre/Post SQL for target</th></tr></thead><tbody><tr><td>Delta</td><td>Yes</td><td>Yes</td></tr><tr><td>Hive</td><td>Yes</td><td>Yes</td></tr><tr><td>Azure SQL</td><td>Yes</td><td>Yes</td></tr><tr><td>Azure Synapse Analytics</td><td>Yes</td><td>Yes</td></tr><tr><td>JDBC</td><td>Yes</td><td>Yes</td></tr></tbody></table><p>Guzzle follows the following order of execution for Pre and Post SQL statements:</p><ol><li><p>Source Section - Pre SQL source</p></li><li><p>Source Section - Read table or SQL</p></li><li><p>Source Section - Post SQL source</p></li><li><p>Target Section -  Pre sql target</p></li><li><p>Target Section -  Write data into target</p></li><li><p>Target Section -  Post sql target</p></li></ol><p>we can summarize as below</p><ul><li>In source section : <div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">  1. pre sql syntax is executed in source table.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  2. table is read by guzzle.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  3. post sql syntax is executed in source table.</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><ul><li>In target section : <ol><li>pre sql syntax is executed in target table.</li><li>write data in target table.</li><li>post sql syntax is executed in selected table. </li></ol></li></ul></li></ul><p>This order of execution applies across all connectors in Guzzle.</p><p>In case of multiple SQL statements, the statements will be executed in the order the user sees them in the Interface.</p><p><img alt="image alt text" src="/assets/images/image_1-fb052389a91455c9ed75e11e658aafbb.png">          </p><p>If we want to execute multiple sql statement we can do by adding it in next input text and they will execute all in sequence as first in first out. example.</p><p>In the above figure there are 2 Pre-Sql statements. The INSERT INTO statement will be executed first followed by the DELETE FROM statement.</p></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/ja-guzzle/docs/blob/master/docs/How to guides/Ingest data/Pre-SQL and Post-SQL for Source and Target in Ingestion.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" role="img" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-label="Edit page"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/How to guides/Ingest data/Watermark"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Watermark</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/How to guides/Ingest data/Ingest Data from Local file system to MySQL Database"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Ingest Data from Local file system to MySQL Database Â»</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2021 Guzzle, Inc.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.e874d658.js"></script>
<script src="/assets/js/main.942ba3a1.js"></script>
</body>
</html>