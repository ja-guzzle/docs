<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.0">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Guzzle Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Guzzle Blog Atom Feed"><title data-react-helmet="true">Repository Database | Guzzle</title><meta data-react-helmet="true" property="og:url" content="https://guzzle.justanalytics.com/docs/how_to_guides/administration/environment_config/repository_database"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Repository Database | Guzzle"><meta data-react-helmet="true" name="description" content="Updating Guzzle Repository Database"><meta data-react-helmet="true" property="og:description" content="Updating Guzzle Repository Database"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://guzzle.justanalytics.com/docs/how_to_guides/administration/environment_config/repository_database"><link data-react-helmet="true" rel="alternate" href="https://guzzle.justanalytics.com/docs/how_to_guides/administration/environment_config/repository_database" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://guzzle.justanalytics.com/docs/how_to_guides/administration/environment_config/repository_database" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.a9a821e7.css">
<link rel="preload" href="/assets/js/runtime~main.56e8c6c8.js" as="script">
<link rel="preload" href="/assets/js/main.73240346.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#main" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle" type="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><img src="/img/guzzle-logo.svg" alt="Guzzle" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/img/guzzle-logo.svg" alt="Guzzle" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><strong class="navbar__title"></strong></a><a class="navbar__item navbar__link navbar__link--active" href="/docs/introduction/overview">Docs</a><a class="navbar__item navbar__link" href="/api/api">API</a><a class="navbar__item navbar__link" href="/docs/changelog">Changelog</a></div><div class="navbar__items navbar__items--right"><div class="searchWrapper_3rmH"></div><div class="react-toggle displayOnlyInLargeViewport_GrZ2 react-toggle--disabled" role="button" tabindex="-1"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_71bT">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img src="/img/guzzle-logo.svg" alt="Guzzle" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/img/guzzle-logo.svg" alt="Guzzle" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><strong class="navbar__title"></strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link navbar__link--active" href="/docs/introduction/overview">Docs</a></li><li class="menu__list-item"><a class="menu__link" href="/api/api">API</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/changelog">Changelog</a></li></ul></div></div></div></nav><div class="main-wrapper docs-wrapper doc-page"><div class="docPage_31aa"><div class="docSidebarContainer_3Kbt" role="complementary"><div class="sidebar_15mo"><div class="menu menu--responsive thin-scrollbar menu_Bmed"><button aria-label="Open menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_fgN0" width="24" height="24" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Introduction</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/introduction/overview">What is Guzzle</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/introduction/deploying_guzzle_on_microsoft_azure">Deploying Guzzle on Microsoft Azure</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Tutorials</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/Tutorials/overview">overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/Tutorials/ingest_data_from_lfs_to_mysql">Ingest Data from Local file System to MySQL Database</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/Tutorials/ingest_data_from_azure_blob_storage_to_delta_table">Ingest Data from Azure Blob Storage to Delta Table</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/Tutorials/ingest_blob_to_azureSQL">Ingest Data from Azure Blob Storage to AzureSQL Database</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/Tutorials/ingest_data_from_rest_api_to_jdbc">Ingest Data from REST Api to JDBC Database</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/Tutorials/ingest_data_from_delta_to_adls">Ingest Data From Delta table to Azure Data Lake Storage</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">How to Guides</a><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Connection and Environment</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/how_to_guides/connection_and_environment/connection_and_environment">Connection and Environment</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!" tabindex="0">Administration</a><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/docs/how_to_guides/administration/environment_config/repository_database">Repository Database</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/how_to_guides/administration/environment_config/setup_shared_storage">Setup Shared Storage</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/how_to_guides/administration/environment_config/timeout_and_sync">Timeout and Sync</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/how_to_guides/administration/maintenance/jwt">JWT</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/how_to_guides/administration/maintenance/schedule">Schedule</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/how_to_guides/administration/maintenance/view_service_log">View Service Log</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/how_to_guides/administration/security/azure_single_sign_on">Azure Single Sign On</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/how_to_guides/administration/security/user_management">User Management</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Author</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/how_to_guides/author/author">Author</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/how_to_guides/author/external">External</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/how_to_guides/author/git_integration_and_version_control">Git Integration and Version Control</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/how_to_guides/author/schedule">Schedule</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/how_to_guides/author/copy_data_tool">Copy Data Tool</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Computes</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/how_to_guides/computes/azure_databricks">Azure Databricks</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/how_to_guides/computes/local_spark">Local Spark</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/how_to_guides/computes/yarn">Yarn</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Datastores</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/how_to_guides/datastores/datastore_overview">Datastore Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/how_to_guides/datastores/amazon_s3">Amazon S3</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/how_to_guides/datastores/azure_data_factory">Azure Data Factory</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/how_to_guides/datastores/adls_gen2">Azure Data Lake Storage Gen2</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/how_to_guides/datastores/azure_sql">Azure SQL</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/how_to_guides/datastores/databricks_file_system">Databricks File System</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/how_to_guides/datastores/delta_lake">Delta Lake</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/how_to_guides/datastores/hdfs">HDFS</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/how_to_guides/datastores/hive">Hive</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/how_to_guides/datastores/server_file_system">Server File System</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/how_to_guides/datastores/rest">Rest Api</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/how_to_guides/datastores/jdbc">JDBC</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/how_to_guides/datastores/azure_synapse_analytics">Azure Synapse Analytics</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Governance</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/how_to_guides/governance/constraint_checks">Constraints Check</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/how_to_guides/governance/housekeeping_hive_and_delta_tables">Housekeeping Hive and Delta tables</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/how_to_guides/governance/reconcilation_of_data">Reconcilation of data accross two tables</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Pipelines</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/how_to_guides/ingest_data/pipeline">Pipeline</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Batches</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/how_to_guides/batch/batch">Batch</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Housekeeping</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/how_to_guides/ingest_data/housekeeping">Housekeeping</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Parameter</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/how_to_guides/parameters/Parameters">Parameters</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Ingest Data</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/how_to_guides/ingest_data/working_with_delimited_files">Working with Delimited Files</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/how_to_guides/ingest_data/working_with_json_files">Working with JSON Files</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/how_to_guides/ingest_data/working_with_xml_files">Working with XML Files</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/how_to_guides/ingest_data/working_with_text_and_log_files">Working with Text and Log Files</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/how_to_guides/ingest_data/working_with_excel_files">Working with Excel Files</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/how_to_guides/ingest_data/working_with_fixed_length_files">Working with Fixed Length Files</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/how_to_guides/ingest_data/working_with_big_data">Working with Big Data</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/how_to_guides/ingest_data/working_with_multiple_files">Working with Multiple Files</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/how_to_guides/ingest_data/working_with_delta_lake">Working with Delta Lake</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/how_to_guides/ingest_data/working_with_jdbc">Working with JDBC Database</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/how_to_guides/ingest_data/working_with_azureSQL">Working with AzureSQL Database</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/how_to_guides/ingest_data/working_with_azure_synapse_analytics">Working with Azure Synapse Analytics Database</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/how_to_guides/ingest_data/working_with_hive">Working with Hive Database</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/how_to_guides/ingest_data/working_with_rest_api">Working with REST Api</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/how_to_guides/ingest_data/column_restrictions">Column Restrictions-Exclude and Include Columns</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/how_to_guides/ingest_data/configure_control_file">Configure Control File</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/how_to_guides/ingest_data/moving_processed_files">Moving Processed FIles</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/how_to_guides/ingest_data/processing">Processing</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/how_to_guides/ingest_data/watermark">Watermark</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/how_to_guides/ingest_data/pre-SQL_and post-SQL_in_ingestion">Pre-SQL and Post-SQL for Source and Target in Ingestion</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/how_to_guides/ingest_data/example_ingest_data">Ingest Data from Local file System to MySQL Database</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Monitor</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/how_to_guides/monitor/monitor">Monitor</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Resources</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/Resources/overview">overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/Resources/resource">resource</a></li></ul></li><li class="menu__list-item"><a class="menu__link" href="/docs/changelog">Guzzle Changelog</a></li></ul></div></div></div><main class="docMainContainer_3ufF"><div class="container padding-vert--lg docItemWrapper_3FMP"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><header><h1 class="docTitle_3a4h">Repository Database</h1></header><div class="markdown"><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="updating-guzzle-repository-database"></a>Updating Guzzle Repository Database<a class="hash-link" href="#updating-guzzle-repository-database" title="Direct link to heading">#</a></h2><p>User has to define there database configs to store guzzle related repository data. Once initialized the repository database guzzle will create database table in the given config database.</p><p>One of the important components of Guzzle instance is the repository database. Guzzle repository contains two types of table as described below: </p><ol><li><p>Audit Metadata: This table compromises of Run-time audits of job runs, output of reconciliation, data quality checks and housekeeping, watermark values of incremental data load and <code>batch</code> audit tables. Full list of Audit metadata tables can be found here. </p></li><li><p>App Metadata: Metadata tables that are used by Guzzle App.  These are tables storing user authentication and authorization information, personalization settings and other metadata required by Guzzle app</p></li></ol><p>The marketplace deployment of Guzzle comes bundled with a local MySQL database which is meant for trial and development purposes. When using Azure Databricks compute for running activities, it is mandatory to configure an external database to host Guzzle repository. The supported databases are: </p><ol><li><p>Azure SQL <strong>(recommended)</strong></p></li><li><p>SQL Server 2016 and above</p></li><li><p>Azure MySQL</p></li><li><p>MySQL Database version 5.7 and above</p></li></ol><p>You will need to ensure the database used for Guzzle repository is accessible by both Guzzle VM and Azure Databricks workspace.</p><p>Below diagram explains typical setup of configuring Azure SQL DB to host Guzzle repository.  </p><p><img alt="repository database" src="/assets/images/repository_db01-60256e22f3b323f2c442e0631178d2d8.png"></p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="steps-to-update-repository-database"></a>Steps to Update Repository database<a class="hash-link" href="#steps-to-update-repository-database" title="Direct link to heading">#</a></h2><ol><li><p>Go to the <strong>Manage</strong> menu from the top navigation bar.</p></li><li><p>Navigate to Environment-&gt; Repository Database. Select <strong>Credentials</strong> tab</p></li><li><p>Enter following configuration details:</p></li></ol><table><thead><tr><th>Property</th><th>Description</th><th>Default Value</th><th>Required</th></tr></thead><tbody><tr><td>Credential type</td><td>Specify credential type to be used to connect to repository database: - Native : This is native Azure SQL, SQL Server or MySQL account - Azure service principal: To use Azure service principal and secret to connect to Azure SQL database. This is not supported for other database</td><td>Native</td><td>Yes</td></tr><tr><td>Driver class</td><td>Specify the driver class name which database is going to be used. This can be left empty if standard Driver provided by Guzzle are to be used</td><td>None</td><td>Yes</td></tr><tr><td>JDBC Url</td><td>Specify JDBC URL of the Repository database: For Azure SQL/ SQL server, you can use below format to specify JDBC URL: <code>jdbc:sqlserver://&lt;server name&gt;.database.windows.net;database=&lt;database name&gt;;encrypt=true;trustServerCertificate=true;create=false;loginTimeout=30;socketKeepAlive=true</code> For Azure MySQL / MySQL Server following format can be used: <code>jdbc:mysql://&lt;server name&gt;:3306/&lt;database name&gt;</code></td><td>None</td><td>Yes</td></tr><tr><td>Username</td><td>Username to connect to repository database Applicable for Native credential type</td><td>None</td><td>Yes</td></tr><tr><td>Password</td><td>Password to connect to repository database Applicable for Native credential type</td><td>None</td><td>Yes</td></tr><tr><td>Client Id</td><td>Client id of Azure Service Principal Applicable for Azure service principal credential type</td><td>None</td><td>Yes</td></tr><tr><td>Client Secret</td><td>Client Secret of Azure Service Principal Applicable for Azure service principal credential type</td><td>None</td><td>Yes</td></tr><tr><td>Tenant Id</td><td>Tenant id of Azure Service Principal Applicable for Azure service principal credential type</td><td>None</td><td>Yes</td></tr></tbody></table><ol start="4"><li><p>Click on <strong>Validate</strong> to validate the connection details of the repository database. Its strongly recommended to validate the connection details before updating it, as incorrect repository database details may impact your Guzzle instance to work properly</p></li><li><p>Once successfully validated, you click on <strong>Update</strong> to update the repository database details. Guzzle initializes  above database with required tables for Guzzle app if these are not present</p></li></ol><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="steps-to-initialize-guzzle-repository-database"></a>Steps to Initialize Guzzle Repository database<a class="hash-link" href="#steps-to-initialize-guzzle-repository-database" title="Direct link to heading">#</a></h2><p>As mentioned above, Guzzle repository contains two types of tables. Of this <strong>Guzzle App Metadata</strong> tables are automatically created when Guzzle app is brought up. However, <strong>Audit Metadata</strong> has to be explicitly initialized in repository database when using new database. This section describes initializing the <strong>Audit Metadata</strong> tables.</p><p><strong>Audit Metadata</strong> tables contains additional columns which are referred as context columns or context parameters. This context columns are included in all Guzzle audit tables. Also, this context columns will show as additional parameter when running jobs namely: <code>activity</code>, <code>pipeline</code> or a <code>batch</code>. This can be optionally included when running the batches for better tracking of the audit information for the job runs.</p><p><img src="https://user-images.githubusercontent.com/35588903/127739053-2a803845-9d13-4c0d-a90b-9f8674bc03ba.png" alt="image"></p><p><strong>At a minimum, one context columns needs to be defined</strong>. By default, Guzzle instance comes with one context column named <strong>batch</strong>. For most of the Guzzle deployment this default context column can be left as is.  This column shall also capture the <code>batch</code> name when an <code>activity</code> or <code>pipeline</code> is run as part of a <code>batch</code>. </p><p>More details of Guzzle Batches can be found <a href="https://guzzle.justanalytics.com/docs/how_to_guides/batch/batch" target="_blank" rel="noopener noreferrer">here</a>.  Additionally, the Guzzle <code>batch</code> is composed of stages. The master list of stages that are available for defining <code>batch</code> can be customized for your Guzzle instance. The default list of stages that are provided in Guzzle instance are below. </p><ul><li>SRI : Represent source image layer</li><li>FND : Foundation layer tables or data</li><li>UCL : Use-case data layer</li><li>OUT : These are output files</li></ul><p>Above stages represents a typical stage through which data from particular source system flows through. However you can amend this list and add additional stages. A batch can be composed of one or more stages from this list.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="steps-to-update-repository-database-1"></a>Steps to Update Repository database<a class="hash-link" href="#steps-to-update-repository-database-1" title="Direct link to heading">#</a></h2><p>Guzzle UI will auto-detect if the repository tables are present or not and if it is present than Guzzle will show option as reinitialize database. If you reinitialize your all existing data in guzzle tables will be vanished and create new one.</p><ol><li>Go to the <strong>Manage</strong> menu from the top navigation bar.</li><li>Navigate to Environment â†’ Repository Database. Select <strong>Initialize Database</strong> tab</li><li>Update the Context Columns and Stages as per your requirement</li><li>The UI shall show either &quot;Initialize&quot; button if repo data does not have any <strong>Audit Metadata</strong> tables. However, if there are existing <strong>Audit Metadata</strong> tables, the UI shall show &quot;Reinitialize&quot;.  It <strong>must</strong> to Reinitialize the <strong>Audit Metadata</strong> tables if there are amendments done to Context columns or Stages. </li></ol><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>Do take note On <strong>Reinitialize</strong> of <strong>Audit Metadata</strong> will drop and re-crate these tables. Any existing audit information shall get deleted in this database. Its recommended not to take necessary backup before doing the &quot;Reinitialize&quot;.</p><p>Also, it&#x27;s mandatory to have minimum one Context Columns and one Stage defined</p><p>When doing &quot;Reinitialize&quot;, do ensure there are running jobs and batches.
On Initialize guzzle will create a database table related to guzzle jobs if the database is already initialized then guzzle will show an option as reinitialize to reinitialize the database.</p></div></div></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/ja-guzzle/docs/blob/master/docs/how_to_guides/administration/environment_config/Repository database.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" role="img" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-label="Edit page"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/how_to_guides/connection_and_environment/connection_and_environment"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Connection and Environment</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/how_to_guides/administration/environment_config/setup_shared_storage"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Setup Shared Storage Â»</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#updating-guzzle-repository-database" class="table-of-contents__link">Updating Guzzle Repository Database</a></li><li><a href="#steps-to-update-repository-database" class="table-of-contents__link">Steps to Update Repository database</a></li><li><a href="#steps-to-initialize-guzzle-repository-database" class="table-of-contents__link">Steps to Initialize Guzzle Repository database</a></li><li><a href="#steps-to-update-repository-database-1" class="table-of-contents__link">Steps to Update Repository database</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2021 Just Analytics, Inc.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.56e8c6c8.js"></script>
<script src="/assets/js/main.73240346.js"></script>
</body>
</html>