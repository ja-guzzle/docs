<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.0">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Guzzle Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Guzzle Blog Atom Feed"><title data-react-helmet="true">Azure Databricks | Guzzle</title><meta data-react-helmet="true" property="og:url" content="https://guzzle.justanalytics.com/docs/how_to_guides/computes/azure_databricks"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Azure Databricks | Guzzle"><meta data-react-helmet="true" name="description" content="Guzzle supports Computing environments on the Azure Cloud. In Guzzle azure cloud setup, we can use Databricks to execute our workloads. This article helps in using Azure Databricks as a computing environment in Guzzle."><meta data-react-helmet="true" property="og:description" content="Guzzle supports Computing environments on the Azure Cloud. In Guzzle azure cloud setup, we can use Databricks to execute our workloads. This article helps in using Azure Databricks as a computing environment in Guzzle."><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://guzzle.justanalytics.com/docs/how_to_guides/computes/azure_databricks"><link data-react-helmet="true" rel="alternate" href="https://guzzle.justanalytics.com/docs/how_to_guides/computes/azure_databricks" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://guzzle.justanalytics.com/docs/how_to_guides/computes/azure_databricks" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.a9a821e7.css">
<link rel="preload" href="/assets/js/runtime~main.a929ed76.js" as="script">
<link rel="preload" href="/assets/js/main.f5c7c1c7.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#main" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle" type="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><img src="/img/guzzle-logo.svg" alt="Guzzle" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/img/guzzle-logo.svg" alt="Guzzle" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><strong class="navbar__title"></strong></a><a class="navbar__item navbar__link navbar__link--active" href="/docs/introduction/overview">Docs</a><a class="navbar__item navbar__link" href="/api/api">API</a><a class="navbar__item navbar__link" href="/docs/changelog">Changelog</a></div><div class="navbar__items navbar__items--right"><div class="searchWrapper_3rmH"></div><div class="react-toggle displayOnlyInLargeViewport_GrZ2 react-toggle--disabled" role="button" tabindex="-1"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_71bT">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img src="/img/guzzle-logo.svg" alt="Guzzle" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/img/guzzle-logo.svg" alt="Guzzle" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><strong class="navbar__title"></strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link navbar__link--active" href="/docs/introduction/overview">Docs</a></li><li class="menu__list-item"><a class="menu__link" href="/api/api">API</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/changelog">Changelog</a></li></ul></div></div></div></nav><div class="main-wrapper docs-wrapper doc-page"><div class="docPage_31aa"><div class="docSidebarContainer_3Kbt" role="complementary"><div class="sidebar_15mo"><div class="menu menu--responsive thin-scrollbar menu_Bmed"><button aria-label="Open menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_fgN0" width="24" height="24" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Introduction</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/introduction/overview">What is Guzzle</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/introduction/deploying_guzzle_on_microsoft_azure">Deploying Guzzle on Microsoft Azure</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Tutorials</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/Tutorials/overview">overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/Tutorials/ingest_data_from_lfs_to_mysql">Ingest Data from Local file System to MySQL Database</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/Tutorials/ingest_data_from_azure_blob_storage_to_delta_table">Ingest Data from Azure Blob Storage to Delta Table</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/Tutorials/ingest_blob_to_azureSQL">Ingest Data from Azure Blob Storage to AzureSQL Database</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/Tutorials/ingest_data_from_rest_api_to_jdbc">Ingest Data from REST Api to JDBC Database</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/Tutorials/ingest_data_from_delta_to_adls">Ingest Data From Delta table to Azure Data Lake Storage</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">How to Guides</a><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Connection and Environment</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/how_to_guides/connection_and_environment/connection_and_environment">Connection and Environment</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Administration</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/how_to_guides/administration/environment_config/repository_database">Repository Database</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/how_to_guides/administration/environment_config/setup_shared_storage">Setup Shared Storage</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/how_to_guides/administration/environment_config/timeout_and_sync">Timeout and Sync</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/how_to_guides/administration/maintenance/jwt">JWT</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/how_to_guides/administration/maintenance/schedule">Schedule</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/how_to_guides/administration/maintenance/view_service_log">View Service Log</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/how_to_guides/administration/security/azure_single_sign_on">Azure Single Sign On</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/how_to_guides/administration/security/user_management">User Management</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Author</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/how_to_guides/author/author">Author</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/how_to_guides/author/external">External</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/how_to_guides/author/git_integration_and_version_control">Git Integration and Version Control</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/how_to_guides/author/schedule">Schedule</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/how_to_guides/author/copy_data_tool">Copy Data Tool</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!" tabindex="0">Computes</a><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/docs/how_to_guides/computes/azure_databricks">Azure Databricks</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/how_to_guides/computes/local_spark">Local Spark</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/how_to_guides/computes/yarn">Yarn</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Datastores</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/how_to_guides/datastores/datastore_overview">Datastore Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/how_to_guides/datastores/amazon_s3">Amazon S3</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/how_to_guides/datastores/azure_data_factory">Azure Data Factory</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/how_to_guides/datastores/adls_gen2">Azure Data Lake Storage Gen2</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/how_to_guides/datastores/azure_sql">Azure SQL</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/how_to_guides/datastores/databricks_file_system">Databricks File System</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/how_to_guides/datastores/delta_lake">Delta Lake</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/how_to_guides/datastores/hdfs">HDFS</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/how_to_guides/datastores/hive">Hive</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/how_to_guides/datastores/server_file_system">Server File System</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/how_to_guides/datastores/rest">Rest Api</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/how_to_guides/datastores/jdbc">JDBC</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/how_to_guides/datastores/azure_synapse_analytics">Azure Synapse Analytics</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Governance</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/how_to_guides/governance/constraint_checks">Constraints Check</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/how_to_guides/governance/housekeeping_hive_and_delta_tables">Housekeeping Hive and Delta tables</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/how_to_guides/governance/reconcilation_of_data">Reconcilation of data accross two tables</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Ingest Data</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/how_to_guides/ingest_data/working_with_delimited_files">Working with Delimited Files</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/how_to_guides/ingest_data/working_with_json_files">Working with JSON Files</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/how_to_guides/ingest_data/working_with_xml_files">Working with XML Files</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/how_to_guides/ingest_data/working_with_text_and_log_files">Working with Text and Log Files</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/how_to_guides/ingest_data/working_with_excel_files">Working with Excel Files</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/how_to_guides/ingest_data/working_with_fixed_length_files">Working with Fixed Length Files</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/how_to_guides/ingest_data/working_with_big_data">Working with Big Data</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/how_to_guides/ingest_data/working_with_multiple_files">Working with Multiple Files</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/how_to_guides/ingest_data/working_with_delta_lake">Working with Delta Lake</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/how_to_guides/ingest_data/working_with_jdbc">Working with JDBC Database</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/how_to_guides/ingest_data/working_with_azureSQL">Working with AzureSQL Database</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/how_to_guides/ingest_data/working_with_azure_synapse_analytics">Working with Azure Synapse Analytics Database</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/how_to_guides/ingest_data/working_with_hive">Working with Hive Database</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/how_to_guides/ingest_data/working_with_rest_api">Working with REST Api</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/how_to_guides/ingest_data/validation_and_transformation">Validation and Transformation</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/how_to_guides/ingest_data/column_restrictions">Column Restrictions-Exclude and Include Columns</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/how_to_guides/ingest_data/configure_control_file">Configure Control File</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/how_to_guides/ingest_data/moving_processed_files">Moving Processed FIles</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/how_to_guides/ingest_data/processing">Processing</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/how_to_guides/ingest_data/watermark">Watermark</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/how_to_guides/ingest_data/pre-SQL_and_post-SQL_in_ingestion">Pre-SQL and Post-SQL for Source and Target in Ingestion</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/how_to_guides/ingest_data/example_ingest_data">Ingest Data from Local file System to MySQL Database</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Pipelines</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/how_to_guides/ingest_data/pipeline">Pipeline</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Batches</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/how_to_guides/batch/batch">Batch</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Housekeeping</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/how_to_guides/ingest_data/housekeeping">Housekeeping</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Parameter</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/how_to_guides/parameters/Parameters">Parameters</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Monitor</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/how_to_guides/monitor/monitor">Monitor</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Resources</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/Resources/overview">overview</a></li></ul></li><li class="menu__list-item"><a class="menu__link" href="/docs/changelog">Guzzle Changelog</a></li></ul></div></div></div><main class="docMainContainer_3ufF"><div class="container padding-vert--lg docItemWrapper_3FMP"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><header><h1 class="docTitle_3a4h">Azure Databricks</h1></header><div class="markdown"><p>Guzzle supports Computing environments on the Azure Cloud. In Guzzle azure cloud setup, we can use Databricks to execute our workloads. This article helps in using Azure Databricks as a computing environment in Guzzle.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="use-of-azure-databricks-as-a-computing-environment"></a>Use of Azure Databricks as a computing environment<a class="hash-link" href="#use-of-azure-databricks-as-a-computing-environment" title="Direct link to heading">#</a></h2><table><thead><tr><th>Property</th><th>Description</th><th>Default Value</th></tr></thead><tbody><tr><td>Cluster Type</td><td>There are 3 types of Databricks clusters available in Guzzle:<br><br> Data Engineering :Â Data Engineering cluster is recommended for automated workloads. It is recommended to use it for your BAU data loads.<br><br> Data Analytics : Data Analytics cluster is recommended for interactive queries along with concurrent user support. This cluster type is configurable in Guzzle, and it can also execute the workloads, but it is not recommended to use it for your BAU data loads. Data Analytics cluster is costlier than Data Engineering cluster for per DBU usage and meant for interactive queries through Databricks notebook in a shared environment where multiple people have to collaborate as a team.<br><br> Data Engineering Light : Data Engineering Light cluster is even cheaper than Data Engineering cluster for per DBU usage. Once you select this type, rest all the other configuration for this cluster type would be the same as the Data Engineering cluster. Note that, Data Engineering Light provides a runtime option for jobs that donâ€™t need the advanced performance, reliability, or autoscaling benefits provided by the more capable Databricks Data Engineering cluster offering.</td><td>Data Engineering</td></tr><tr><td>API URL</td><td>It is used to specify the URL of the Databricks environment which will be used with Guzzle. We can specify the Azure region accordingly based on the region of the Databricks workspace.</td><td>None</td></tr><tr><td>API Token</td><td>It is used to specify the API Token for our Databricks Environment. API token is required for Guzzle to authenticate to Azure Databricks. API token needs to be generated from the Databricks workspace.</td><td>None</td></tr><tr><td>DBFS Guzzle Directory</td><td>It is used to specify the Guzzle mount directory location where guzzle job configs, jars and all bin relies on in the Databricks.</td><td>None</td></tr><tr><td>Cluster Id (Applicable for Data Analytics cluster)</td><td>It is used to specify the name of the Cluster we have created in the Databricks Environment. A job cluster is created in Databricks with this name.<br> Guzzle will show available clusters once a valid API key is provided.<br> UI will show cluster name, but it stores cluster ID in the underlying YML file</td><td>None</td></tr><tr><td>Configure Retry Options</td><td>basically is the retry which we do if Guzzle is not able to successfully submit the job (possibly due to issues like unavailability of cloud resources or error in control plane)</td><td>None</td></tr><tr><td>Spark Version (Only in Data Engineering and Data Engineering Light)</td><td>Specify the Spark Version we have used in creating our cluster in the Databricks environment.<br> These drop-downs are populated once valid API keys and URLs are provided.</td><td>None</td></tr><tr><td>Enable Cluster Pool</td><td>Used to specify To attach a cluster to a pool.</td><td>False</td></tr><tr><td>Instance Pool ID</td><td>select the pool from the drop-down when you configure the cluster. Available pools are listed at the top of each drop-down list. You can use the same pool or different pools for the driver node and worker nodes.</td><td>None</td></tr><tr><td>Driver Node Type (Only in Data Engineering and Data Engineering Light)</td><td>It is used to specify the type of driver we would like to use as our Driver Node.</td><td>None</td></tr><tr><td>Worker Node Type (Only in Data Engineering and Data Engineering Light)</td><td>Specify the workers we would like to use in our Databricks environment</td><td>None</td></tr><tr><td>Enable AutoScaling</td><td>A cluster that automatically scales between the minimum and maximum number of nodes, based on load.</td><td>False</td></tr><tr><td>Customize Spark Config</td><td>Used to specify additional spark config options <br>Ex: conf : spark.sql.broadcastTimeout <br>value : 5000</td><td>None</td></tr><tr><td>Customize Environment Variables</td><td>Used to specify environment variables to use in spark computes.<br> Ex: Variable : GuzzleHome.<br> Value    : /mnt/guzzle/guzzle</td><td>None</td></tr><tr><td>Init Script</td><td>Cluster-scoped init scripts are init scripts defined in a cluster configuration.<br> You can put init scripts in a DBFS or ADLS directory accessible by a cluster. And give the location to that script in guzzle spark computes</td><td>None</td></tr><tr><td>Custom Cluster Tags</td><td>You apply tags to your Cluster. Each tag consists of a name and a value pair</td><td>None</td></tr></tbody></table><p>For sensitive spark configuration, one should use Databricks secrets instead of using plain values as they will be visible in to configure. This could be a storage account access key.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="setup-databricks-workspace"></a>Setup Databricks Workspace<a class="hash-link" href="#setup-databricks-workspace" title="Direct link to heading">#</a></h2><p>Once you enter all necessary fields, the user has to set up the workspace on Databricks through click on setup workspace from the tab bar.</p><p>On click of setup workspace guzzle will create a notebook known as setup-guzzle.scala in the Databricks workspace.</p><p>In the notebook guzzle programmatically mount shared storage in the Databricks environment.</p><p><strong> Interface of Azure Databricks compute for cluster type : Data Engineering and Data Engineering Light. </strong></p><a href="https://guzzle.justanalytics.com/img/docs/how-to-guides/compute/azuredatabricks_1.png" target="_self" rel="noopener noreferrer"><img width="1000" src="/img/docs/how-to-guides/compute/azuredatabricks_1.png"></a><p><strong> Interface of Azure Databricks compute for cluster type : Data Analytics. </strong></p><a href="https://guzzle.justanalytics.com/img/docs/how-to-guides/compute/azure_databricks_2.png" target="_self" rel="noopener noreferrer"><img width="1000" src="/img/docs/how-to-guides/compute/azure_databricks_2.png"></a><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="how-to-setup-external-metastore"></a>how to setup external metastore<a class="hash-link" href="#how-to-setup-external-metastore" title="Direct link to heading">#</a></h2><p>One can use init script or spark configs. More details of can be found here</p><p>A typical set of spark configuration when using Azure SQL server are external metastore are:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">spark.hadoop.javax.jdo.option.ConnectionDriverName </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">com.microsoft.sqlserver.jdbc.SQLServerDriver</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">spark.hadoop.javax.jdo.option.ConnectionURL jdbc:sqlserver://&lt;Azure sql server&gt;.database.windows.net:1433;database=&lt;DB NAME&gt;;encrypt=true;trustServerCertificate=false;hostNameInCertificate=*.database.windows.net;loginTimeout=30;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">spark.databricks.delta.preview.enabled true</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">spark.hadoop.javax.jdo.option.ConnectionUserName &lt;USERNAME&gt;;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">datanucleus.fixedDatastore false</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">spark.hadoop.javax.jdo.option.ConnectionPassword {{secrets/&lt;scope name&gt;/&lt;scret name for password&gt;}}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">spark.sql.sources.partitionOverwriteMode DYNAMIC datanucleus.autoCreateSchema true</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">spark.sql.hive.metastore.jars &amp;lt;LOCATION WHERE JARS ARE AVAILABLE. built is not supported. /databricks/hive-v1_2/*?</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">spark.sql.hive.metastore.version 1.2.1</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/ja-guzzle/docs/blob/master/docs/how_to_guides/computes/Azure Databricks.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" role="img" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-label="Edit page"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/how_to_guides/author/copy_data_tool"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Copy Data Tool</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/how_to_guides/computes/local_spark"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Local Spark Â»</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#use-of-azure-databricks-as-a-computing-environment" class="table-of-contents__link">Use of Azure Databricks as a computing environment</a></li><li><a href="#setup-databricks-workspace" class="table-of-contents__link">Setup Databricks Workspace</a></li><li><a href="#how-to-setup-external-metastore" class="table-of-contents__link">how to setup external metastore</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2021 Just Analytics, Inc.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.a929ed76.js"></script>
<script src="/assets/js/main.f5c7c1c7.js"></script>
</body>
</html>